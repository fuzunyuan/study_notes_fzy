---

### C++ 读书笔记 - 第3章 处理数据

#### 核心概要

本章主要介绍C++的**基本数据类型**，重点是**整型**和**浮点型**。理解这些内置类型是学习面向对象编程（OOP）中设计自己数据类型的基础。本笔记将主要覆盖变量的定义、命名规则以及C++中的各种整型。

---

#### 1. 简单变量 (Simple Variables)

程序为了存储信息，必须记录三个基本属性：
1.  **存储位置**：信息存放在内存的哪个地方。
2.  **存储的值**：具体是什么数值或内容。
3.  **存储的类型**：是整数、字符还是其他类型。

在C++中，我们通过**声明变量**来实现这一点。例如：`int braincount = 5;`
* `int`：指定了类型为整数。
* `braincount`：是变量的名称（一个符号），代表了存储该值的内存单元。
* `5`：是要存储的具体值。

#### 2. 变量命名规则与约定

##### C++ 命名硬性规则：
* **合法字符**：只能使用字母、数字和下划线 (`_`)。
* **首字符**：第一个字符不能是数字。
* **大小写敏感**：`myVariable` 和 `myvariable` 是两个不同的变量。
* **关键字**：不能使用C++的关键字作为名称（如 `int`, `for`, `class` 等）。
* **保留名称**：
    * 以**两个下划线 (`__`)** 或 **下划线+大写字母 (`_A`)** 开头的名称，被保留给编译器实现使用，应避免使用。
    * 以**一个下划线 (`_`)** 开头的名称，被保留用作全局标识符，也应避免使用。
* **长度**：C++对名称长度没有限制。

##### 命名约定 (编程风格)：
* **提高可读性**：变量名应有意义，如 `cost_of_trip` 而非 `x`。
* **多词组合**：
    * **下划线风格**：`my_onions` (C程序员常用)
    * **驼峰命名法**：`myEyeTooth` (从第二个单词起首字母大写)
* **带类型前缀 (可选)**：一些程序员喜欢在变量名前加上前缀来表明其类型，以增加代码清晰度。
    * `nMyWeight` (n 代表 number/integer)
    * `bIsFinished` (b 代表 boolean)
    * `szName` (sz 代表 a zero-terminated string)
    > 重点：**一致性**和**精确性**是选择命名风格时最重要的原则。

---

#### 3. C++ 内置整型 (Integer Types)

整数是没有小数部分的数字。C++为了满足不同场景的需求，提供了多种整型，它们的主要区别在于**宽度（width）**，即占用的内存空间大小。宽度越大，可表示的整数范围也越大。

##### 3.1 整型分类
C++的基本整型按宽度递增排序为： `char`, `short`, `int`, `long`, `long long` (C++11 新增)。
* 以上每种类型都有**符号 (`signed`)** 版本和**无符号 (`unsigned`)** 版本，总共10种。
* `short` 是 `short int` 的简称。
* `long` 是 `long int` 的简称。
* 默认的 `int`, `short`, `long`, `long long` 都是带符号的。

##### 3.2 整数类型的最小长度保证
为了保证代码的可移植性，C++标准规定了每种整型的最小尺寸：
* `short`：至少16位。
* `int`：至少和 `short` 一样长。
* `long`：至少32位，且至少和 `int` 一样长。
* `long long`：至少64位，且至少和 `long` 一样长。
> **注意**：`int` 的具体大小（如16位或32位）取决于编译器和操作系统，这是跨平台编程时需要注意的问题。

##### 3.3 关键概念：位(bit)与字节(byte)
* **位 (Bit)**：计算机内存的基本单元，值为0或1。
* **字节 (Byte)**：通常指8位的内存单元。
* **C++对字节的定义**：由足以容纳实现的基本字符集的相邻位组成。在大多数系统中，一个字节是8位，但标准允许更大的字节（如16位或32位）以支持Unicode等大型字符集。

---

#### 4. 检查系统上的整型属性

我们可以使用C++提供的工具来查看在特定系统上整型的具体大小和取值范围。

##### 4.1 `sizeof` 运算符
* **功能**：返回一个类型或一个变量所占用的**字节数**。
* **用法**：
    * 对类型名使用：`sizeof(int);` （必须有括号）
    * 对变量名使用：`sizeof n_short;` （括号可选）

##### 4.2 `<climits>` 头文件
* **功能**：包含关于整型限制的信息，定义了一系列表示各种类型极限值的**符号常量**。
* **常用常量示例**：
    * `CHAR_BIT`：一个字节的位数。
    * `INT_MAX`：`int` 类型的最大值。
    * `INT_MIN`：`int` 类型的最小值。
    * `LONG_MAX`：`long` 类型的最大值。
    * `LLONG_MAX`：`long long` 类型的最大值。

---

#### 5. 符号常量 (Symbolic Constants)

##### 预处理器方式：`#define`
* 这是从C语言继承的一种创建符号常量的方式。
* **工作原理**：`#define INT_MAX 32767` 告诉预处理器，在编译前，将代码中所有的 `INT_MAX` 文本替换为 `32767`。
* **现代C++实践**：虽然头文件（如`<climits>`）中仍在使用 `#define`，但在我们自己的代码中，C++推荐使用 `const` 关键字来创建常量，因为它提供了更好的类型安全。